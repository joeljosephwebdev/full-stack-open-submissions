{"version":3,"sources":["services/contacts.js","components/Contact.js","components/ContactList.js","components/NewContactForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Contact","person","handleDelete","name","number","onClick","ContactList","contactsToShow","map","contact","NewContactForm","handleSubmit","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","onChange","value","placeholder","required","type","Filter","handleSearch","searchString","Notification","message","handleReset","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchString","setMessage","notificationType","setNotificationType","useEffect","contactsService","initialContacts","resetNotification","createNotification","content","setTimeout","filter","toLowerCase","includes","toLocaleLowerCase","e","target","preventDefault","some","alert","newContact","window","confirm","find","returnedContact","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"8KACMA,EAAU,eAuBD,EArBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB9B,EAhBA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc9B,EAXA,SAAAG,GAEX,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,MASrB,EANA,SAACI,EAAIF,GAEhB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,OCT9BM,EATC,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACvB,OACI,8BACKD,EAAOE,KADZ,IACmBF,EAAOG,OACtB,wBAAQC,QAAS,kBAAMH,EAAaD,EAAOE,KAAMF,EAAOJ,KAAxD,sBAFII,EAAOE,OCWRG,EAZK,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,eAAgBL,EAAmB,EAAnBA,aACnC,OACI,8BAEQK,EAAeC,KAAI,SAAAC,GAAO,OACtB,cAAC,EAAD,CAASR,OAAQQ,EAA4BP,aAAcA,GAA5BO,EAAQN,YCU5CO,EAhBQ,SAAC,GAAgF,IAA9EC,EAA6E,EAA7EA,aAAcC,EAA+D,EAA/DA,QAASC,EAAsD,EAAtDA,UAAWC,EAA2C,EAA3CA,iBAAkBC,EAAyB,EAAzBA,mBAC1E,OACI,uBAAMC,SAAUL,EAAhB,UACI,yCACU,uBAAOM,SAAUH,EAAkBI,MAAON,EAASO,YAAY,eAAeC,UAAQ,OAEhG,2CACY,uBAAOH,SAAUF,EAAoBG,MAAOL,EAAWM,YAAY,iBAAiBC,UAAQ,OAExG,8BACI,wBAAQC,KAAK,SAAb,uBCFDC,EARA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,aAC5B,OACI,2CACY,uBAAOP,SAAUM,EAAcL,MAAOM,EAAcL,YAAY,uBCSrEM,EAZM,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,QAASL,EAAwB,EAAxBA,KAAMM,EAAkB,EAAlBA,YACnC,OAAgB,OAAZD,EACO,KAIP,qBAAKE,UAAS,uBAAkBP,GAAQhB,QAASsB,EAAjD,SACKD,KC+HEG,EAhIH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETlB,EAFS,KAEAqB,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTjB,EAHS,KAGEqB,EAHF,OAIwBJ,mBAAS,IAJjC,mBAITN,EAJS,KAIKW,EAJL,OAKcL,mBAAS,MALvB,mBAKTJ,EALS,KAKAU,EALA,OAMgCN,mBAAS,IANzC,mBAMTO,EANS,KAMSC,EANT,KAQhBC,qBAAU,WACRC,IAEGhD,MAAK,SAAAiD,GACJT,EAAWS,QAEd,IAEH,IAYMC,EAAoB,WACxBN,EAAW,MACXE,EAAoB,KAGhBK,EAAqB,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASvB,EAAW,EAAXA,KACrCe,EAAWQ,GACXN,EAAoBjB,GACpBwB,YAAW,WACTH,MACC,MAmECnC,EAAiBiB,EACrBO,EAAQe,QAAO,SAAA7C,GAAM,OAAIA,EAAOE,KAAK4C,cAAcC,SAASxB,EAAayB,wBACvElB,EAEJ,OACE,gCACE,cAAC,EAAD,CAAcL,QAASA,EAASL,KAAMgB,EAAkBV,YAAae,IACrE,2CACA,cAAC,EAAD,CAAQlB,aAAcA,EAAcD,aAzFnB,SAAC2B,GACpBf,EAAgBe,EAAEC,OAAOjC,UAyFvB,mDACA,cAAC,EAAD,CACEN,QAASA,EACTC,UAAWA,EACXC,iBAtGmB,SAACoC,GACxBjB,EAAWiB,EAAEC,OAAOjC,QAsGhBH,mBAnGqB,SAACmC,GAC1BhB,EAAagB,EAAEC,OAAOjC,QAmGlBP,aA/Ee,SAACuC,GAGpB,GAFAA,EAAEE,iBAEErB,EAAQsB,MAAK,SAAApD,GAAM,OAAIA,EAAOG,SAAWS,KAC3C,OAAOyC,MAAM,GAAD,OAAIzC,EAAJ,iCAGd,IAAM0C,EAAa,CAAEpD,KAAMS,EAASR,OAAQS,GAE5C,GAAIkB,EAAQsB,MAAK,SAAApD,GAAM,OAAIA,EAAOE,KAAK4C,gBAAkBnC,EAAQmC,kBAC3DS,OAAOC,QAAP,UAAkB7C,EAAlB,2EADN,CAEI,IAAMf,EAAKkC,EAAQ2B,MAAK,SAAAzD,GAAM,OAAIA,EAAOE,OAASS,KAASf,GAC3D2C,EACU3C,EAAI0D,GACX/D,MAAK,SAAAmE,GACJ3B,EAAWD,EAAQvB,KAAI,SAAAC,GAAO,OAAIA,EAAQN,OAASoD,EAAWpD,KAAOM,EAAUkD,MAC/E1B,EAAW,IACXC,EAAa,IACbS,EAAmB,CACjBC,QAAQ,WAAD,OAAae,EAAgBxD,KAA7B,aACPkB,KAAM,eAEPuC,OAAM,SAAAC,GACPlB,EAAmB,CACjBC,QAAQ,GAAD,OAAKhC,EAAL,6CACPS,KAAM,UAERW,EAAWD,EAAQe,QAAO,SAAA7C,GAAM,OAAIA,EAAOJ,KAAOA,MAClDoC,EAAW,IACXC,EAAa,YAMrBM,EACUe,GACP/D,MAAK,SAAAmE,GACJ3B,EAAWD,EAAQ+B,OAAOH,IAC1B1B,EAAW,IACXC,EAAa,IACbS,EAAmB,CACjBC,QAAQ,SAAD,OAAWe,EAAgBxD,KAA3B,qBACPkB,KAAM,kBAsCV,yCACA,cAAC,EAAD,CAAad,eAAgBA,EAAgBL,aAlC5B,SAACC,EAAMN,GACtB2D,OAAOC,QAAP,0CAAkDtD,KACpDqC,EACU3C,GACPL,MAAK,WACJwC,EAAWD,EAAQe,QAAO,SAAA7C,GAAM,OAAIA,EAAOJ,KAAOA,SACjD+D,OAAM,SAAAC,GACPlB,EAAmB,CACjBC,QAAQ,GAAD,OAAKzC,EAAL,6CACPkB,KAAM,UAERW,EAAWD,EAAQe,QAAO,SAAA7C,GAAM,OAAIA,EAAOJ,KAAOA,gB,MCxG5DkE,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.ad7ebf9f.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n// eslint-disable-next-line\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Contact = ({ person, handleDelete }) => {\n    return (\n        <p key={person.name}>\n            {person.name} {person.number}\n            <button onClick={() => handleDelete(person.name, person.id)}>delete</button>\n        </p>\n    )\n}\n\nexport default Contact","import React from 'react'\nimport Contact from './Contact'\n\nconst ContactList = ({ contactsToShow, handleDelete }) => {\n    return (\n        <div>\n            {\n                contactsToShow.map(contact =>\n                    <Contact person={contact} key={contact.name} handleDelete={handleDelete} />\n                )\n            }\n        </div>\n    )\n}\n\nexport default ContactList","import React from 'react'\n\nconst NewContactForm = ({ handleSubmit, newName, newNumber, handleNameChange, handleNumberChange }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input onChange={handleNameChange} value={newName} placeholder=\"enter a name\" required />\n            </div>\n            <div>\n                number: <input onChange={handleNumberChange} value={newNumber} placeholder=\"enter a number\" required />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default NewContactForm","import React from 'react'\n\nconst Filter = ({ handleSearch, searchString }) => {\n    return (\n        <div>\n            search: <input onChange={handleSearch} value={searchString} placeholder=\"search by name\" />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, type, handleReset }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={`notification ${type}`} onClick={handleReset}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport contactsService from './services/contacts'\n\nimport ContactList from './components/ContactList'\nimport NewContactForm from './components/NewContactForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchString, setSearchString] = useState('')\n  const [message, setMessage] = useState(null)\n  const [notificationType, setNotificationType] = useState('')\n\n  useEffect(() => {\n    contactsService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSearch = (e) => {\n    setSearchString(e.target.value)\n  }\n\n  const resetNotification = () => {\n    setMessage(null)\n    setNotificationType('')\n  }\n\n  const createNotification = ({ content, type }) => {\n    setMessage(content)\n    setNotificationType(type)\n    setTimeout(() => {\n      resetNotification()\n    }, 5000)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    if (persons.some(person => person.number === newNumber)) {\n      return alert(`${newNumber} is already in the phonebook`)\n    }\n\n    const newContact = { name: newName, number: newNumber }\n\n    if (persons.some(person => person.name.toLowerCase() === newName.toLowerCase())) {\n      if (window.confirm(`${newName} is already in the phonebook, replace the old number with the new one?`)) {\n        const id = persons.find(person => person.name === newName).id\n        contactsService\n          .update(id, newContact)\n          .then(returnedContact => {\n            setPersons(persons.map(contact => contact.name !== newContact.name ? contact : returnedContact))\n            setNewName('')\n            setNewNumber('')\n            createNotification({\n              content: `Changed ${returnedContact.name}'s number`,\n              type: 'success'\n            })\n          }).catch(error => {\n            createNotification({\n              content: `${newName} has already been removed from the server`,\n              type: 'error'\n            })\n            setPersons(persons.filter(person => person.id !== id))\n            setNewName('')\n            setNewNumber('')\n          })\n        return\n      }\n    }\n\n    contactsService\n      .create(newContact)\n      .then(returnedContact => {\n        setPersons(persons.concat(returnedContact))\n        setNewName('')\n        setNewNumber('')\n        createNotification({\n          content: `Added ${returnedContact.name} to the phonebook`,\n          type: 'success'\n        })\n      })\n  }\n\n  const handleDelete = (name, id) => {\n    if (window.confirm(`are you sure you want to delete ${name}`)) {\n      contactsService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n        }).catch(error => {\n          createNotification({\n            content: `${name} has already been removed from the server`,\n            type: 'error'\n          })\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  const contactsToShow = searchString ?\n    persons.filter(person => person.name.toLowerCase().includes(searchString.toLocaleLowerCase()))\n    : persons\n\n  return (\n    <div>\n      <Notification message={message} type={notificationType} handleReset={resetNotification} />\n      <h2>Phonebook</h2>\n      <Filter searchString={searchString} handleSearch={handleSearch} />\n      <h3>Add a new contact</h3>\n      <NewContactForm\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <h3>Numbers</h3>\n      <ContactList contactsToShow={contactsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}